<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>

<script>
(function(){

	// requirejs script tag
	var script = document.createElement('script');

	// head = document.head in sane browsers or this in IE8...
	var head = document.head || document.getElementsByTagName('head')[0];
	if(localStorage.isDevMode){

		require = {
			deps: ['app.start']
		};

		// development mode. load everything individually
		script.setAttribute('data-main', 'require.config');
		script.setAttribute('src', 'bower_components/requirejs/require.js');

	}else{

		// production mode uses combined compressed files
		// generated by the requirejs build
		var link = document.createElement('link')
		link.setAttribute('media', 'screen');
		link.setAttribute('rel', 'stylesheet');
		link.setAttribute('href', 'app.min.css');
		head.appendChild(link);
		script.setAttribute('src', 'app.min.js');

	}

	// append requireJS and watch the magic happen...
	head.appendChild(script);

})();
</script>
</body>
</html>
